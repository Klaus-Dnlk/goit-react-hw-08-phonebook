{"version":3,"sources":["redux/contacts/contacts-selectors.js","redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js","components/Styles.module.scss","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/auth/auth-slice.js","redux/store.js","components/Container.js","components/Navigation.js","components/AuthNav.js","icons/userAva.png","components/UserMenu.js","components/AppBar.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","index.js","redux/contacts/contacts-operations.js"],"names":["getLoading","state","contacts","loading","getFilter","filter","getAllContacts","items","getVisibleContacts","allContacts","normalizedFilter","toLowerCase","contact","name","includes","changeFilter","createAction","createReducer","operations","fetchContacts","fulfilled","_","payload","addNewContact","deleteContact","id","pending","rejected","error","combineReducers","module","exports","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","logIn","logOut","fetchCurrentUser","thunkAPI","getState","persistedToken","auth","rejectWithValue","get","authSelectors","getIsLoggedIn","isLoggedIn","getUsername","user","authSlice","createSlice","initialState","email","extraReducers","authOperations","action","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contactsReducer","devTools","process","persistor","persistStore","Container","children","Navigation","useSelector","to","exact","className","s","link","activeClassName","activeLink","AuthNav","UserMenu","dispatch","useDispatch","avatar","defaultAvatar","user_container","src","alt","width","user_name","type","onClick","btn","AppBar","section","PrivateRoute","routeProps","PublicRoute","restricted","shouldRedirect","HomeView","lazy","RegisterView","LoginView","ContactsView","App","useEffect","fallback","path","ReactDOM","render","StrictMode","document","getElementById","number","delete"],"mappings":"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","file":"static/js/main.5d075e26.chunk.js","sourcesContent":["export const getLoading = state => state.contacts.loading;\r\n\r\nexport const getFilter = state => state.contacts.filter;\r\n\r\nexport const getAllContacts = state => state.contacts.items;\r\n\r\nexport const getVisibleContacts = state => {\r\n  const allContacts = getAllContacts(state);\r\n  const filter = getFilter(state);\r\n  const normalizedFilter = filter.toLowerCase();\r\n\r\n  return allContacts.filter(contact =>\r\n    contact.name.toLowerCase().includes(normalizedFilter),\r\n  );\r\n};\r\n","import { createAction } from '@reduxjs/toolkit';\n\nconst changeFilter = createAction('contacts/filter');\nexport default changeFilter;\n","import { createReducer, combineReducers } from '@reduxjs/toolkit';\nimport changeFilter from './contacts-actions';\nimport operations from './contacts-operations';\n\nconst items = createReducer([], {\n  [operations.fetchContacts.fulfilled]: (_, { payload }) => payload,\n  [operations.addNewContact.fulfilled]: (state, { payload }) => [\n    ...state,\n    payload,\n  ],\n  [operations.deleteContact.fulfilled]: (state, { payload }) =>\n    state.filter(contact => contact.id !== payload),\n});\n\nconst loading = createReducer(false, {\n  [operations.fetchContacts.pending]: () => true,\n  [operations.fetchContacts.fulfilled]: () => false,\n  [operations.fetchContacts.rejected]: () => false,\n  [operations.addNewContact.pending]: () => true,\n  [operations.addNewContact.fulfilled]: () => false,\n  [operations.addNewContact.rejected]: () => false,\n  [operations.deleteContact.pending]: () => true,\n  [operations.deleteContact.fulfilled]: () => false,\n  [operations.deleteContact.rejected]: () => false,\n});\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, { payload }) => payload,\n});\n\nconst error = createReducer(null, {});\n\nexport default combineReducers({\n  items,\n  filter,\n  loading,\n  error,\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Styles_title__2O54i\",\"section\":\"Styles_section__3hTyO\",\"contact_form\":\"Styles_contact_form__mmTsL\",\"contact_formLabel\":\"Styles_contact_formLabel__1v9Pz\",\"inputWindow\":\"Styles_inputWindow__3UisN\",\"filterBox\":\"Styles_filterBox__ZLGqB\",\"filterInput\":\"Styles_filterInput___T2kw\",\"contactList\":\"Styles_contactList__12ZdO\",\"listItem\":\"Styles_listItem__1jBtj\",\"btn\":\"Styles_btn__20x5-\",\"link\":\"Styles_link__26V-S\",\"activeLink\":\"Styles_activeLink__13zUj\",\"user_container\":\"Styles_user_container__3xVOA\",\"user_name\":\"Styles_user_name__1SET3\",\"avatar\":\"Styles_avatar__2P1cv\"};","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = createAsyncThunk('auth/register', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/signup', credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {}\r\n});\r\n\r\nconst logIn = createAsyncThunk('auth/login', async credentials => {\r\n  try {\r\n    const { data } = await axios.post('/users/login', credentials);\r\n    token.set(data.token);\r\n    return data;\r\n  } catch (error) {}\r\n});\r\n\r\nconst logOut = createAsyncThunk('auth/logout', async () => {\r\n  try {\r\n    await axios.post('/users/logout');\r\n    token.unset();\r\n  } catch (error) {}\r\n});\r\n\r\nconst fetchCurrentUser = createAsyncThunk(\r\n  'auth/refresh',\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (persistedToken === null) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n    token.set(persistedToken);\r\n    try {\r\n      const { data } = await axios.get('/users/current');\r\n      return data;\r\n    } catch (error) {}\r\n  },\r\n);\r\n\r\nconst operations = {\r\n  register,\r\n  logIn,\r\n  logOut,\r\n  fetchCurrentUser,\r\n};\r\n\r\nexport default operations;\r\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\nconst getUsername = state => state.auth.user.name;\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUsername,\r\n};\r\n\r\nexport default authSelectors;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { authOperations } from '.';\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [authOperations.register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logIn.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logOut.fulfilled](state, action) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { contactsReducer } from './contacts';\nimport { authReducer } from './auth';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === 'development',\n});\n\nexport const persistor = persistStore(store);\n","export default function Container({ children }) {\r\n  return <div>{children}</div>;\r\n}\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Styles.module.scss';\r\n\r\nexport default function Navigation() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <nav>\r\n      <NavLink to=\"/\" exact className={s.link} activeClassName={s.activeLink}>\r\n        Home\r\n      </NavLink>\r\n\r\n      {isLoggedIn && (\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          exact\r\n          className={s.link}\r\n          activeClassName={s.activeLink}\r\n        >\r\n          Contacts\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Styles.module.scss';\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        exact\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Registration\r\n      </NavLink>\r\n\r\n      <NavLink\r\n        to=\"/login\"\r\n        exact\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Sign in\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/userAva.12e634ac.png\";","import { useDispatch, useSelector } from 'react-redux';\r\nimport { authSelectors, authOperations } from '../redux/auth';\r\nimport s from './Styles.module.scss';\r\nimport defaultAvatar from '../icons/userAva.png';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUsername);\r\n  const avatar = defaultAvatar;\r\n\r\n  return (\r\n    <div className={s.user_container}>\r\n      <img src={avatar} alt=\"\" width=\"32\" className={s.avatar} />\r\n      <span className={s.user_name}>Welcome, {name}</span>\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => dispatch(authOperations.logOut())}\r\n        className={s.btn}\r\n      >\r\n        Log Out\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\nimport Navigation from './Navigation';\r\nimport AuthNav from './AuthNav';\r\nimport UserMenu from './UserMenu';\r\nimport s from './Styles.module.scss';\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <header className={s.section}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PrivateRoute({ children, ...routeProps }) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to=\"/login\" />}\r\n    </Route>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PublicRoute({\r\n  children,\r\n  restricted = false,\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  const shouldRedirect = isLoggedIn && restricted;\r\n  return (\r\n    <Route {...routeProps}>\r\n      {shouldRedirect ? <Redirect to=\"/\" /> : children}\r\n    </Route>\r\n  );\r\n}\r\n","import { useEffect, Suspense, lazy } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Switch } from 'react-router';\r\nimport Container from './components/Container';\r\nimport AppBar from './components/AppBar';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport PublicRoute from './components/PublicRoute';\r\nimport { authOperations } from './redux/auth';\r\n\r\nconst HomeView = lazy(() => import('./views/HomeView'));\r\nconst RegisterView = lazy(() => import('./views/RegisterView'));\r\nconst LoginView = lazy(() => import('./views/LoginView'));\r\nconst ContactsView = lazy(() => import('./views/ContactsView'));\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(authOperations.fetchCurrentUser());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Container>\r\n      <AppBar />\r\n      <Switch>\r\n        <Suspense fallback={<p>Loading...</p>}>\r\n          <PublicRoute exact path=\"/\">\r\n            <HomeView />\r\n          </PublicRoute>\r\n\r\n          <PublicRoute path=\"/register\" restricted>\r\n            <RegisterView />\r\n          </PublicRoute>\r\n\r\n          <PublicRoute path=\"/login\" restricted>\r\n            <LoginView />\r\n          </PublicRoute>\r\n\r\n          <PrivateRoute path=\"/contacts\">\r\n            <ContactsView />\r\n          </PrivateRoute>\r\n        </Suspense>\r\n      </Switch>\r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from './redux/store';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\naxios.defaults.baseURL = 'https://61980945164fa60017c22f32.mockapi.io';\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.get('/contacts');\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const addNewContact = createAsyncThunk(\r\n  'contacts/addNewContact',\r\n  async ({ name, number }, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/contacts', { name, number });\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const deleteContact = createAsyncThunk(\r\n  'contacts/deleteContact',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      await axios.delete(`/contacts/${id}`);\r\n      return id;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n  fetchContacts,\r\n  addNewContact,\r\n  deleteContact,\r\n};\r\n"],"sourceRoot":""}